(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),c=a.n(r);a(80),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(9),o=a(13),i=a(14),m=a(16),u=a(15),p=a(10),d=(a(23),a(81),a(115)),h=(a(82),a(12)),g=a.n(h),E=function(e,t){return g.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},b=function(e,t){return g.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},f=function(e){g.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))},v=function(e){return l.a.createElement(d.a,{className:"nav row",bg:"info"},l.a.createElement("div",{className:"col-6 pl-3"},l.a.createElement("img",{className:"MoodsLogo",src:".\\Plutchik-wheel.png",alt:"Logo Moods of Berlin"}),l.a.createElement(d.a.Brand,null,"MOODS OF BERLIN"),e.user&&l.a.createElement(d.a.Brand,null,"Welcome ",e.user.username)),l.a.createElement("div",{className:"col-6"},l.a.createElement(d.a.Brand,null,l.a.createElement(s.b,{to:"/"},"Home")),l.a.createElement(d.a.Brand,null,l.a.createElement(s.b,{to:"/about"},"About")),e.user?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a.Brand,null,l.a.createElement(s.b,{to:"/places"},"Places By Mood")),l.a.createElement(d.a.Brand,null,l.a.createElement(s.b,{to:"/",onClick:function(){return f(e)}},"Logout"))):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a.Brand,null,l.a.createElement(s.b,{to:"/signup"},"Signup")),l.a.createElement(d.a.Brand,null,l.a.createElement(s.b,{to:"/login"},"Login")))))},y=(a(103),function(e){return l.a.createElement("div",{className:"slider",style:{borderTop:"solid 2px white"}},l.a.createElement("div",{className:"bg-info row d-flex"},l.a.createElement("div",{className:"col-lg-6 px-5"},l.a.createElement("img",{src:"\\Plutchik-wheel.png",className:"img-fluid p-5",alt:"Responsive image"})),l.a.createElement("div",{className:"col-lg-6 align-self-center"},l.a.createElement("h6",{style:{fontSize:"2rem"},className:"text-white display-4"},"How do you feel today?"),l.a.createElement("h1",{className:"text-white display-2"},"Moods of Berlin"),l.a.createElement("h6",{style:{fontSize:"2rem"},className:"text-white display-4"},"what would you like to do?"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 containerBox"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 "},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-yellow"}),l.a.createElement("div",{className:"item1"}))),l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-green"}),l.a.createElement("div",{className:"item2"}))))),l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-orange"}),l.a.createElement("div",{className:"item3"})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 "},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-violet"}),l.a.createElement("div",{className:"item4"}))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-turquoise"}),l.a.createElement("div",{className:"item5"}))),l.a.createElement("div",{className:"col-6"},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-red"}),l.a.createElement("div",{className:"item6"})))))),l.a.createElement("div",{className:"row col-9 pullToTop"},l.a.createElement("div",{className:"col-3"},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-blue"}),l.a.createElement("div",{className:"item7"}))),l.a.createElement("div",{className:"col-9"},l.a.createElement(s.b,{to:"/places"},l.a.createElement("div",{className:"overlay-effect-greenyellow"}),l.a.createElement("div",{className:"item8"}))))),l.a.createElement("div",{className:"col-lg-6 p-3"},l.a.createElement("h4",{className:"my-3"},"INTRO TEXT"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vitae turpis nunc. Sed eu fermentum velit. Duis molestie augue neque, eu hendrerit tellus elementum at. Suspendisse facilisis pharetra nulla sagittis luctus. Vivamus non felis semper, bibendum justo at, cursus velit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Phasellus ullamcorper iaculis massa, eget luctus nisl iaculis non. Praesent varius, sapien sed egestas lacinia, turpis diam facilisis erat, id bibendum sapien magna at arcu. Pellentesque in pretium odio. Sed dignissim arcu vitae dolor posuere, in accumsan purus eleifend. Duis risus enim, lacinia in tellus lobortis, commodo porta dui. In sagittis sed mauris id aliquam. Vivamus augue quam, sollicitudin vitae velit vitae, hendrerit sodales augue. Fusce a neque ac turpis mattis tincidunt. Phasellus quis nulla ut nisi egestas auctor. Morbi consequat augue non ante porta porttitor. Ut scelerisque sodales nibh a molestie. Integer quis scelerisque justo."))))}),N=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container my-5"},l.a.createElement("p",null,"This is the Moods of Berlin web application v1.0.0. It is part of an Ironhack project."),l.a.createElement("p",null,"Created by Jesus, Benjamin and Robert."),l.a.createElement("h2",null,"This part of the app will consist of: "),l.a.createElement("ul",null,l.a.createElement("li",null,"Navbar: logo, home, (login, signup, logout)"),l.a.createElement("li",null,"Section1: just the simple text like the one above"),l.a.createElement("li",null,"And maybe a footer with our names and a copyright"))))},x=a(35),C=a.n(x),j=a(51),w=a(54),k=a(52),S=(a(105),a(106),function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"card-columns",style:{margin:"0 35px"}},e.places.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("div",{className:"card"},l.a.createElement("img",{className:"card-img-top",src:e.imgPath,alt:e.title}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},e.title),l.a.createElement("b",null,"Mood: ")," ",e.mood,l.a.createElement("div",{className:e.mood}),l.a.createElement("p",{className:"card-text"}," ",l.a.createElement("b",null,"Address: "),e.street," ",e.zip," ",e.city)),l.a.createElement("div",{className:"card-footer "},l.a.createElement(s.b,{to:"/places/".concat(e._id)},l.a.createElement("button",{type:"button",className:"btn btn-info btn-block"},"See place")))))}))))}),O=(a(107),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container-boxes"},l.a.createElement("button",{className:"box",name:"joyful",onClick:this.props.changeMood},"joyful"),l.a.createElement("button",{className:"box",name:"relaxed",onClick:this.props.changeMood},"relaxed"),l.a.createElement("button",{className:"box",name:"energetic",onClick:this.props.changeMood},"energetic"),l.a.createElement("button",{className:"box",name:"bored",onClick:this.props.changeMood},"bored"),l.a.createElement("button",{className:"box",name:"thoughtful",onClick:this.props.changeMood},"thoughtful"),l.a.createElement("button",{className:"box",name:"melancholic",onClick:this.props.changeMood},"melancholic"),l.a.createElement("button",{className:"box",name:"anxious",onClick:this.props.changeMood},"anxious"),l.a.createElement("button",{className:"box",name:"angry",onClick:this.props.changeMood},"angry"))}}]),a}(n.Component)),P=a(73),_=a(53),M=(a(108),function(e){var t=Object(n.useState)({latitude:52.5170365,longitude:13.3888599,width:"100vw",height:"50vh",zoom:10}),a=Object(P.a)(t,2),r=a[0],c=a[1];return l.a.createElement(_.b,Object.assign({},r,{mapboxApiAccessToken:e.mapboxToken,onViewportChange:function(e){c(e)}}),e.places.length&&e.places.map((function(t){return l.a.createElement(_.a,{key:t._id,latitude:t.latitude,longitude:t.longitude},""===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./allColors_marker.png",alt:"mapbox icon"}),"joyful"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./joyful_yellow_marker.png",alt:"mapbox icon joyful"}),"relaxed"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./relaxed_lightgreen_marker.png",alt:"mapbox icon relaxed"}),"energetic"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./energetic_orange_marker.png",alt:"mapbox icon energetic"}),"bored"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./bored_green_marker.png",alt:"mapbox icon bored"}),"thoughtful"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./thoughtful_turquise_marker.png",alt:"mapbox icon thoughtful"}),"melancholic"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./melancholic_blue_marker.png",alt:"mapbox icon melancholic"}),"anxious"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./anxious_violet_marker.png",alt:"mapbox icon anxious"}),"angry"===e.mood&&l.a.createElement("img",{className:"map-marker",src:"./angry_red_marker.png",alt:"mapbox icon angry"}))})))}),T="pk.eyJ1Ijoicm9iZXJ0Ym96c2lrIiwiYSI6ImNrYWU4bG9kdjAyaDkzNHBuZ3Qxa3UycTEifQ.Z5U143Bdapv2hjhVxyZOXA",B=function(e,t,a,n){return"https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,"_").concat(t,"_").concat(a,".json?types=address&access_token=").concat(n)},z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={places:[],mood:"",loadingMap:!0},e.getAllPlaces=function(){g.a.get("/api/places").then(function(){var t=Object(k.a)(C.a.mark((function t(a){var n,l,r,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(w.a)(a.data),l=Object(j.a)(n),t.prev=2,l.s();case 4:if((r=l.n()).done){t.next=13;break}return c=r.value,t.next=8,g.a.get(B(c.street,c.city,c.zip,T)).catch((function(e){return e}));case 8:s=t.sent,c.latitude=s.data.features[0].center[1],c.longitude=s.data.features[0].center[0];case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),l.e(t.t0);case 18:return t.prev=18,l.f(),t.finish(18);case 21:e.setState({places:n});case 22:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},e.getPlacesByMood=function(t){g.a.get("/api/places/moods?mood=".concat(t)).then(function(){var t=Object(k.a)(C.a.mark((function t(a){var n,l,r,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a.data),n=Object(w.a)(a.data),l=Object(j.a)(n),t.prev=3,l.s();case 5:if((r=l.n()).done){t.next=14;break}return c=r.value,t.next=9,g.a.get(B(c.street,c.city,c.zip,T)).catch((function(e){return e}));case 9:s=t.sent,c.latitude=s.data.features[0].center[1],c.longitude=s.data.features[0].center[0];case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),l.e(t.t0);case 19:return t.prev=19,l.f(),t.finish(19);case 22:e.setState({places:n});case 23:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},e.changeMood=function(t){e.setState({mood:t.target.name},(function(){e.getPlacesByMood(e.state.mood)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAllPlaces()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(M,{places:this.state.places,mapboxToken:T,mood:this.state.mood}),l.a.createElement("div",{className:"alert alert-success",style:{margin:"30px 30px 0 30px",borderRadius:"0"},role:"alert"},l.a.createElement("h4",{className:"alert-heading"},"Moods of Berlin"),l.a.createElement("p",null,"Please fill the form to add a Place."),l.a.createElement("hr",null),l.a.createElement(s.b,{to:"/addPlace"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg"},"Add a Place"))),l.a.createElement(O,{changeMood:this.changeMood}),this.state.places.length?l.a.createElement(S,{places:this.state.places}):null)}}]),a}(n.Component),D=Object(p.f)(z);function F(){return l.a.createElement(n.Fragment,null,l.a.createElement(D,null))}var I=a(29),U=a(117),A=a(114),q=a(118),L=a(113),Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(I.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,l=a.password;E(n,l).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/places"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bg-info p-5",style:{borderTop:"solid 2px white"}},l.a.createElement(U.a,{bg:"light",border:"secondary",style:{width:"25rem",margin:"0 auto"},body:!0},l.a.createElement("h2",null,"Signup"),l.a.createElement(A.a,{onSubmit:this.handleSubmit},l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Label,{htmlFor:"username"},"Username: "),l.a.createElement(A.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Label,{htmlFor:"password"},"Password: "),l.a.createElement(A.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),this.state.message&&l.a.createElement(q.a,{variant:"danger"},this.state.message),l.a.createElement(L.a,{type:"submit"},"Signup")))))}}]),a}(n.Component),H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(I.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,l=a.password;b(n,l).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/places"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bg-info p-5 ",style:{borderTop:"solid 2px white"}},l.a.createElement(U.a,{bg:"light",border:"secondary",style:{width:"25rem",margin:"0 auto"},body:!0},l.a.createElement("h2",{className:"text-center"},"Log In"),l.a.createElement(A.a,{onSubmit:this.handleSubmit},l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Label,{htmlFor:"username"},"Username: "),l.a.createElement(A.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Label,{htmlFor:"password"},"Password: "),l.a.createElement(A.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),this.state.message&&l.a.createElement(q.a,{variant:"danger"},this.state.message),l.a.createElement(L.a,{type:"submit"},"Log In")),l.a.createElement("div",{className:"text-center my-3"},l.a.createElement("p",null," Please go to Sign Up if you are not a user yet")))))}}]),a}(n.Component),J=(a(110),function(){return l.a.createElement("footer",null,l.a.createElement("p",null,"by Jesus Cabrera & Benjamin Chimoy & Robert Bozsik | Ironhack 2020"))}),R=a(26),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault();var t=n.state.title,a=n.state.description,l=n.state.mood,r=n.state.imgPath,c=n.state.street,s=n.state.zip,o=n.state.city;g.a.post("/api/places",{title:t,description:a,mood:l,imgPath:r,street:c,zip:s,city:o}).then((function(){n.setState({title:"",description:"",mood:"",imgPath:"",street:"",zip:"",city:""}),n.props.history.push("/places")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(I.a)({},a,l))},n.fileSelectHandler=function(e){var t=e.target.files,a=new FormData;a.append("file",t[0]),a.append("upload_preset","moods-of-berlin"),fetch("https://api.cloudinary.com/v1_1/benchberlin/image/upload ",{method:"POST",body:a}).then((function(e){e.json().then((function(e){console.log(Object(R.a)(n)),console.log(e.secure_url),n.setState({imgPath:e.secure_url})}))}))},n.state={title:"",description:"",mood:"",imgPath:"",street:"",zip:"",city:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Title:")),l.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleChange(t)},className:"form-control",placeholder:"Title","aria-label":"Title","aria-describedby":"basic-addon1"}))),l.a.createElement("div",{className:"input-group my-2"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"Description:")),l.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)},className:"form-control","aria-label":"Description"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text"},"Mood:")),l.a.createElement("select",{className:"custom-select",value:this.state.mood,name:"mood",onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"joyful"},"joyful"),l.a.createElement("option",{value:"relaxed"},"relaxed"),l.a.createElement("option",{value:"energetic"},"energetic"),l.a.createElement("option",{value:"bored"},"bored"),l.a.createElement("option",{value:"thoughtful"},"thoughtful"),l.a.createElement("option",{value:"melancholic"},"melancholic"),l.a.createElement("option",{value:"anxious"},"anxious"),l.a.createElement("option",{value:"angry"},"angry")))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Image:"),l.a.createElement("input",{className:"mx-3",type:"file",name:"imgPath",onChange:this.fileSelectHandler}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Street:")),l.a.createElement("input",{type:"text",name:"street",value:this.state.street,onChange:function(t){return e.handleChange(t)},className:"form-control",placeholder:"Street","aria-label":"Street","aria-describedby":"basic-addon1"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Zip:")),l.a.createElement("input",{type:"text",name:"zip",value:this.state.zip,onChange:function(t){return e.handleChange(t)},className:"form-control",placeholder:"Zip","aria-label":"Zip","aria-describedby":"basic-addon1"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text"},"City:")),l.a.createElement("select",{className:"custom-select",value:this.state.city,name:"city",onChange:function(t){return e.handleChange(t)}},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"berlin"},"Berlin")))),l.a.createElement("input",{className:"btn btn-success btn-lg m-3",type:"submit",value:"Submit"})))}}]),a}(n.Component),G=function(e){return l.a.createElement("div",{className:"bg-info p-5",style:{borderTop:"solid 2px white"}},l.a.createElement(U.a,{bg:"light",border:"secondary",style:{width:"70%",margin:"0 auto"},body:!0},l.a.createElement("h1",{className:"text-center"},"Add a Place"),l.a.createElement(W,{history:e.history})))},V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){var t=n.state.title,a=n.state.description,l=n.state.mood,r=n.state.imgPath,c=n.state.street,s=n.state.zip,o=n.state.city;e.preventDefault(),g.a.put("/api/places/".concat(n.props.thePlace._id),{title:t,description:a,mood:l,imgPath:r,street:c,zip:s,city:o}).then((function(){n.props.getThePlace(),n.props.history.push("/places")})).catch((function(e){return console.log(e)}))},n.handleChangeTitle=function(e){n.setState({title:e.target.value})},n.handleChangeDesc=function(e){n.setState({description:e.target.value})},n.handleChangeMood=function(e){n.setState({mood:e.target.value})},n.handleChangeImgPath=function(e){n.setState({imgPath:e.target.value})},n.handleChangeStreet=function(e){n.setState({street:e.target.value})},n.handleChangeZip=function(e){n.setState({zip:e.target.value})},n.handleChangeCity=function(e){n.setState({city:e.target.value})},n.fileSelectHandler=function(e){var t=e.target.files,a=new FormData;a.append("file",t[0]),a.append("upload_preset","moods-of-berlin"),fetch("https://api.cloudinary.com/v1_1/benchberlin/image/upload ",{method:"POST",body:a}).then((function(e){e.json().then((function(e){console.log(Object(R.a)(n)),console.log(e.secure_url),n.setState({imgPath:e.secure_url})}))}))},n.state={title:n.props.thePlace.title,description:n.props.thePlace.description,mood:n.props.thePlace.mood,imgPath:n.props.thePlace.imgPath,street:n.props.thePlace.street,zip:n.props.thePlace.zip,city:n.props.thePlace.city},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("hr",null),l.a.createElement("h3",{className:"text-center"},"Edit form"),l.a.createElement("form",{style:{maxWidth:"80%"},onSubmit:this.handleFormSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Title:")),l.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleChangeTitle(t)},className:"form-control",placeholder:"Title","aria-label":"Title","aria-describedby":"basic-addon1"}))),l.a.createElement("div",{className:"input-group my-2"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"Description:")),l.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChangeDesc(t)},class:"form-control","aria-label":"Description"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text"},"Mood:")),l.a.createElement("select",{className:"custom-select",value:this.state.mood,name:"mood",onChange:function(t){return e.handleChangeMood(t)}},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"joyful"},"joyful"),l.a.createElement("option",{value:"relaxed"},"relaxed"),l.a.createElement("option",{value:"energetic"},"energetic"),l.a.createElement("option",{value:"bored"},"bored"),l.a.createElement("option",{value:"thoughtful"},"thoughtful"),l.a.createElement("option",{value:"melancholic"},"melancholic"),l.a.createElement("option",{value:"anxious"},"anxious"),l.a.createElement("option",{value:"angry"},"angry")))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Image:"),l.a.createElement("input",{className:"mx-3",type:"file",name:"imgPath",onChange:this.fileSelectHandler}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Street:")),l.a.createElement("input",{type:"text",name:"street",value:this.state.street,onChange:function(t){return e.handleChangeStreet(t)},className:"form-control",placeholder:"Street","aria-label":"Street","aria-describedby":"basic-addon1"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"Zip:")),l.a.createElement("input",{type:"text",name:"zip",value:this.state.zip,onChange:function(t){return e.handleChangeZip(t)},className:"form-control",placeholder:"Zip","aria-label":"Zip","aria-describedby":"basic-addon1"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("label",{className:"input-group-text"},"City:")),l.a.createElement("select",{className:"custom-select",value:this.state.city,name:"city",onChange:function(t){return e.handleChangeCity(t)}},l.a.createElement("option",{selected:!0},"Choose..."),l.a.createElement("option",{value:"berlin"},"Berlin")))),l.a.createElement("input",{className:"btn btn-success btn-lg mx-1",type:"submit",value:"Submit"})))}}]),a}(n.Component),X=a(116),Y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getSinglePlace=function(){var e=n.props.match.params;g.a.get("/api/places/".concat(e.id)).then((function(e){var t=e.data;n.setState(t)})).catch((function(e){console.log(e)}))},n.deletePlace=function(){var e=n.props.match.params;g.a.delete("/api/places/".concat(e.id)).then((function(){n.props.history.push("/places")})).catch((function(e){console.log(e)}))},n.state={},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getSinglePlace()}},{key:"render",value:function(){var e=this,t=!1,a=this.props.user,n=this.state.owner;return a&&a._id===n&&(t=!0),l.a.createElement("div",null,l.a.createElement("div",{className:"card",style:{margin:"1em auto",width:"80%"},key:this.state._id},l.a.createElement("img",{className:"img-fluid",style:{minWidth:"100%"},src:this.state.imgPath,alt:this.state.title}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},this.state.title," "),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("b",null,"Mood: ")," ",this.state.mood),l.a.createElement("p",{className:"card-text"},l.a.createElement("b",null,"Description: ")," ",this.state.description),l.a.createElement("p",null,l.a.createElement("b",null,"Address: "),this.state.street," ",this.state.zip," ",this.state.city)),t&&l.a.createElement("div",{className:"card-footer"},l.a.createElement(X.a,null,l.a.createElement(U.a,null,l.a.createElement(U.a.Header,null,l.a.createElement(X.a.Toggle,{as:L.a,variant:"info",eventKey:"0"},"Edit"),l.a.createElement("button",{type:"button",className:"btn btn-danger mx-2",onClick:function(){return e.deletePlace()}},"Delete"),l.a.createElement("br",null)),l.a.createElement(X.a.Collapse,{eventKey:"0"},l.a.createElement(U.a.Body,null," ",l.a.createElement(V,Object.assign({thePlace:this.state,getThePlace:this.getSinglePlace},this.props)))))))))}}]),a}(n.Component),K=a(74),Q=function(e){var t=e.component,a=e.user,n=Object(K.a)(e,["component","user"]);return l.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?l.a.createElement(t,Object.assign({},n,e)):l.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(v,{user:this.state.user,setUser:this.setUser}),l.a.createElement(p.b,{exact:!0,path:"/",component:y}),l.a.createElement(p.b,{exact:!0,path:"/about",component:N}),l.a.createElement(Q,{exact:!0,path:"/places",user:this.state.user,component:F}),l.a.createElement(p.b,{exact:!0,path:"/addPlace",component:G}),l.a.createElement(p.b,{exact:!0,path:"/places/:id",render:function(t){return l.a.createElement(Y,Object.assign({user:e.state.user},t))}}),l.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return l.a.createElement(Z,Object.assign({setUser:e.setUser},t))}}),l.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return l.a.createElement(H,Object.assign({setUser:e.setUser},t))}}),l.a.createElement(J,null))}}]),a}(n.Component);g.a.get("/api/auth/loggedin").then((function(e){var t=e.data;c.a.render(l.a.createElement(s.a,null,l.a.createElement($,{user:t})),document.getElementById("root"))})).catch((function(e){console.log(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){e.exports=a(111)},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.d07194d2.chunk.js.map